[{"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\index.js":"1","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\App.js":"2","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\header\\header.js":"3","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\body\\body.js":"4","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\Editor\\editor.js":"5","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\note\\note.js":"6","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\login\\login.js":"7","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\utils\\index.js":"8","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\server.js":"9"},{"size":506,"mtime":1610006273679,"results":"10","hashOfConfig":"11"},{"size":569,"mtime":1614674541558,"results":"12","hashOfConfig":"11"},{"size":280,"mtime":1614216360847,"results":"13","hashOfConfig":"11"},{"size":5493,"mtime":1614676899427,"results":"14","hashOfConfig":"11"},{"size":6731,"mtime":1614566629901,"results":"15","hashOfConfig":"11"},{"size":3062,"mtime":1614674666759,"results":"16","hashOfConfig":"11"},{"size":7476,"mtime":1614674903495,"results":"17","hashOfConfig":"11"},{"size":1519,"mtime":1614670604886,"results":"18","hashOfConfig":"11"},{"size":608,"mtime":1614568841501,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1uey2kl",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\index.js",[],["41","42"],"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\App.js",[],"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\header\\header.js",[],"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\body\\body.js",["43","44","45","46","47","48","49","50","51","52","53"],"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\Editor\\editor.js",["54","55","56"],"import React from 'react'\r\n// 引入编辑器组件\r\nimport BraftEditor from 'braft-editor'\r\n// 引入编辑器样式\r\nimport 'braft-editor/dist/index.css'\r\nimport './editor.css'\r\n// import 'braft-editor/dist/output.css'\r\nimport { message } from 'antd';\r\n\r\nlet titleStr = \"\", descriptionStr=\"\";\r\nconst defaultStr = `\r\n    <p></p>\r\n    <p class=\"title\">标题:${titleStr}</p><br>\r\n    <p class=\"description\">描述:${descriptionStr}</p><br><hr>\r\n`;\r\nexport default class Editor extends React.Component {\r\n    \r\n    state = {\r\n        // 创建一个空的editorState作为初始值\r\n        editorState: BraftEditor.createEditorState(null),\r\n        title: \"这是一个标题\",\r\n        description: \"这是一段描述\",\r\n        editItem:{}\r\n    }\r\n\r\n    //后台请求数据\r\n    fetchEditorContent = () => {\r\n        return defaultStr;\r\n    }\r\n    //向后台发送请求保存当前数据\r\n    saveEditorContent = () => {\r\n        return true\r\n    }\r\n    // static getDerivedStateFromProps(nextProps, prevState) {\r\n    //     if(nextProps.editItem.id){\r\n    //         var state = BraftEditor.createEditorState(defaultStr + nextProps.editItem.content);\r\n    //         console.log(state)\r\n            \r\n    //         editorInstance && editorInstance.clearEditorContent();\r\n    //         editorInstance && editorInstance.setValue(state);\r\n    //         return {\r\n    //             editItem: nextProps.editItem\r\n    //         };\r\n    //     }\r\n    //     return null;\r\n    // }\r\n    componentWillReceiveProps (nextProps) {\r\n        if(nextProps.editItem.id){\r\n            titleStr = nextProps.editItem.title;\r\n            descriptionStr = nextProps.editItem.title;\r\n            this.setState({\r\n                editItem:nextProps.editItem,\r\n                editorState:BraftEditor.createEditorState(defaultStr + nextProps.editItem.content)\r\n            })\r\n        }else {\r\n            this.setState({\r\n                editItem:nextProps.editItem,\r\n                editorState:BraftEditor.createEditorState(null)\r\n            })\r\n        }\r\n    }\r\n    async componentDidMount () {\r\n        // 假设此处从服务端获取html格式的编辑器内容\r\n        // const htmlContent = await this.fetchEditorContent()\r\n        const htmlContent = this.props.editItem.content;\r\n        // 使用BraftEditor.createEditorState将html字符串转换为编辑器需要的editorStat\r\n        this.setState({\r\n            editorState: BraftEditor.createEditorState(defaultStr + htmlContent)\r\n        })\r\n    }\r\n\r\n    submitContent = async () => {\r\n        // 在编辑器获得焦点时按下ctrl+s会执行此方法\r\n        // 编辑器内容提交到服务端之前，可直接调用editorState.toHTML()来获取HTML格式的内容\r\n        message.success('保存成功！', 2)\r\n        const htmlContent = this.state.editorState.toHTML()\r\n        console.log(htmlContent);\r\n        // const result = await saveEditorContent(htmlContent)\r\n    }\r\n\r\n\r\n    handleEditorChange = (editorState) => {\r\n        this.setState({ editorState })\r\n    }\r\n    //由于图片上传、视频上传项目中都是单独走的接口，需要一个上传的方法\r\n    myUploadFn = (param) => {\r\n        console.log('param',param);\r\n        const serverURL =`${window.sessionStorage.baseURL ? JSON.parse(window.sessionStorage.baseURL):\"\"}/fileHandle/upload`//上传接口地址\r\n        const xhr = new XMLHttpRequest();\r\n        const fd = new FormData();\r\n        if(param.file.type.indexOf(\"image\")!=\"-1\"&&(param.file.size/1024/1024)>9){\r\n            param.error({\r\n                msg: '请上传小于10M的图片'\r\n            })\r\n            message.warning(\"请上传小于10M的图片\")\r\n        }\r\n        if(param.file.type.indexOf(\"video\")!=\"-1\"){\r\n            if(param.file.type.indexOf(\"mp4\")==\"-1\"){\r\n                param.error({\r\n                    msg: '请上传mp4格式的视频'\r\n                })\r\n                message.warning(\"请上传mp4格式的视频\")\r\n                return\r\n            }\r\n            if((param.file.size/1024/1024)>100){\r\n                param.error({\r\n                msg: '请上传小于100M的视频'\r\n            })\r\n            message.warning(\"请上传小于100M的视频\")\r\n            }\r\n        }\r\n        const successFn = (response) => {\r\n            // 假设服务端直接返回文件上传后的地址\r\n            // 上传成功后调用param.success并传入上传后的文件地址\r\n            const upLoadObject = JSON.parse(response && response.currentTarget && response.currentTarget.response);\r\n            // console.log(\"JSON.parse(xhr.responseText).data\",JSON.parse(xhr.responseText).data)\r\n            param.success({\r\n                 url:`${window.sessionStorage.baseURL ? JSON.parse(window.sessionStorage.baseURL)+\"/fileHandle/video/preview?videoUrl=\":\"\"}${JSON.parse(xhr.responseText).data}`,\r\n                meta: {\r\n                    id: upLoadObject && upLoadObject.id,\r\n                    title: upLoadObject && upLoadObject.fileName,\r\n                    alt: upLoadObject && upLoadObject.fileName,\r\n                    loop: false, // 指定音视频是否循环播放\r\n                    autoPlay: true, // 指定音视频是否自动播放\r\n                    controls: true, // 指定音视频是否显示控制栏\r\n                    poster: '', // 指定视频播放器的封面\r\n                }\r\n            })\r\n        };\r\n\r\n        const progressFn = (event) => {\r\n            // 上传进度发生变化时调用param.progress\r\n            param.progress(event.loaded / event.total * 100)\r\n\r\n        };\r\n\r\n        const errorFn = (response) => {\r\n            // 上传发生错误时调用param.error\r\n            param.error({\r\n                msg: 'unable to upload.'\r\n            })\r\n        };\r\n\r\n        xhr.upload.addEventListener(\"progress\", progressFn, false);\r\n        xhr.addEventListener(\"load\", successFn, false);\r\n        xhr.addEventListener(\"error\", errorFn, false);\r\n        xhr.addEventListener(\"abort\", errorFn, false);\r\n        fd.append('file', param.file);\r\n        xhr.open('POST', serverURL, true);\r\n        //  xhr.setRequestHeader(\"X-Auth-Token\", User.getToken());//header中token的设置\r\n        xhr.send(fd)\r\n\r\n    }\r\n\r\n    render() {\r\n        const { editorState } = this.state;\r\n        return (\r\n            <div className=\"braft-output-content\">\r\n                <BraftEditor\r\n                    placeholder=\"请输入正文内容\"\r\n                    value={editorState}\r\n                    onChange={this.handleEditorChange}\r\n                    onSave={this.submitContent}\r\n                    media={{ uploadFn: this.myUploadFn }}\r\n                />\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\note\\note.js",["57","58","59","60","61","62","63"],"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\login\\login.js",["64","65"],"C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\components\\utils\\index.js",["66","67","68","69","70","71","72"],"import { message } from 'antd'\r\n/**\r\n * \r\n * @param {string}gphoneInput \r\n * 验证手机号格式\r\n */\r\nfunction isPhoneAvailable(phoneInput) {\r\n  var myreg = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n  if (!myreg.test(phoneInput)) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n/**\r\n * \r\n * @param {string} emailInput \r\n * 验证邮箱格式\r\n */\r\nfunction isEmailAvailable(emailInput) {\r\n  var myreg = /^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/;\r\n  if (!myreg.test(emailInput)) {\r\n    return false;\r\n  }\r\n  else {\r\n    return true;\r\n  }\r\n}\r\nfunction passwordAvailable(pwdInput) {\r\n  var myreg = /^(?!^\\\\d+$)(?!^[a-zA-Z]+$)(?!^[_#@]+$).{8,}$/\r\n  if (!myreg.test(pwdInput)) {\r\n    return false;\r\n  }\r\n  else {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction isPhoneOrEmail(userInput) {\r\n  var flag = /^[0-9]*$/.test(userInput);\r\n  \r\n  if (flag) {//手机号\r\n    return true;\r\n    if (!isPhoneAvailable(userInput)) {\r\n      message.info('请输入正确的手机号');\r\n      return 0;\r\n    } else {\r\n      return true;\r\n    }\r\n  } else {//邮箱\r\n    return false;\r\n    if (!isEmailAvailable(userInput)) {\r\n      message.info('请输入正确邮箱')\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n// 1、密码必须由数字、字符、特殊字符三种中的两种组成;\r\n// 2、密码长度不能少于8个字符;\r\n// (?!^\\\\d+$)(?!^[a-zA-Z]+$)(?!^[_#@]+$).{8,}\r\n\r\nexport default {\r\n  isPhoneAvailable,\r\n  isEmailAvailable,\r\n  passwordAvailable,\r\n  isPhoneOrEmail\r\n}","C:\\Users\\Administrator\\Desktop\\my\\noteTaking\\src\\web\\src\\server.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":7,"column":3,"nodeType":"79","messageId":"80","endLine":7,"endColumn":17},{"ruleId":"77","severity":1,"message":"81","line":8,"column":3,"nodeType":"79","messageId":"80","endLine":8,"endColumn":18},{"ruleId":"77","severity":1,"message":"82","line":9,"column":3,"nodeType":"79","messageId":"80","endLine":9,"endColumn":20},{"ruleId":"77","severity":1,"message":"83","line":13,"column":8,"nodeType":"79","messageId":"80","endLine":13,"endColumn":12},{"ruleId":"84","severity":1,"message":"85","line":85,"column":26,"nodeType":"86","messageId":"87","endLine":85,"endColumn":28},{"ruleId":"84","severity":1,"message":"88","line":108,"column":23,"nodeType":"86","messageId":"87","endLine":108,"endColumn":25},{"ruleId":"84","severity":1,"message":"85","line":110,"column":25,"nodeType":"86","messageId":"87","endLine":110,"endColumn":27},{"ruleId":"84","severity":1,"message":"88","line":110,"column":69,"nodeType":"86","messageId":"87","endLine":110,"endColumn":71},{"ruleId":"84","severity":1,"message":"85","line":150,"column":33,"nodeType":"86","messageId":"87","endLine":150,"endColumn":35},{"ruleId":"84","severity":1,"message":"85","line":159,"column":33,"nodeType":"86","messageId":"87","endLine":159,"endColumn":35},{"ruleId":"84","severity":1,"message":"85","line":166,"column":33,"nodeType":"86","messageId":"87","endLine":166,"endColumn":35},{"ruleId":"84","severity":1,"message":"88","line":91,"column":44,"nodeType":"86","messageId":"87","endLine":91,"endColumn":46},{"ruleId":"84","severity":1,"message":"88","line":97,"column":44,"nodeType":"86","messageId":"87","endLine":97,"endColumn":46},{"ruleId":"84","severity":1,"message":"85","line":98,"column":46,"nodeType":"86","messageId":"87","endLine":98,"endColumn":48},{"ruleId":"77","severity":1,"message":"89","line":2,"column":24,"nodeType":"79","messageId":"80","endLine":2,"endColumn":31},{"ruleId":"90","severity":1,"message":"91","line":62,"column":19,"nodeType":"92","endLine":62,"endColumn":96},{"ruleId":"90","severity":1,"message":"91","line":63,"column":19,"nodeType":"92","endLine":63,"endColumn":121},{"ruleId":"90","severity":1,"message":"91","line":68,"column":28,"nodeType":"92","endLine":68,"endColumn":94},{"ruleId":"90","severity":1,"message":"91","line":79,"column":30,"nodeType":"92","endLine":79,"endColumn":132},{"ruleId":"90","severity":1,"message":"91","line":79,"column":140,"nodeType":"92","endLine":79,"endColumn":209},{"ruleId":"90","severity":1,"message":"91","line":83,"column":28,"nodeType":"92","endLine":83,"endColumn":77},{"ruleId":"77","severity":1,"message":"93","line":5,"column":40,"nodeType":"79","messageId":"80","endLine":5,"endColumn":58},{"ruleId":"84","severity":1,"message":"85","line":78,"column":36,"nodeType":"86","messageId":"87","endLine":78,"endColumn":38},{"ruleId":"94","severity":1,"message":"95","line":21,"column":33,"nodeType":"96","messageId":"97","endLine":21,"endColumn":34,"suggestions":"98"},{"ruleId":"94","severity":1,"message":"99","line":21,"column":36,"nodeType":"96","messageId":"97","endLine":21,"endColumn":37,"suggestions":"100"},{"ruleId":"94","severity":1,"message":"95","line":21,"column":71,"nodeType":"96","messageId":"97","endLine":21,"endColumn":72,"suggestions":"101"},{"ruleId":"94","severity":1,"message":"99","line":21,"column":74,"nodeType":"96","messageId":"97","endLine":21,"endColumn":75,"suggestions":"102"},{"ruleId":"103","severity":1,"message":"104","line":44,"column":5,"nodeType":"105","messageId":"106","endLine":49,"endColumn":6},{"ruleId":"103","severity":1,"message":"104","line":52,"column":5,"nodeType":"105","messageId":"106","endLine":56,"endColumn":6},{"ruleId":"107","severity":1,"message":"108","line":63,"column":1,"nodeType":"109","endLine":68,"endColumn":2},"no-native-reassign",["110"],"no-negated-in-lhs",["111"],"no-unused-vars","'SnippetsFilled' is defined but never used.","Identifier","unusedVar","'DesktopOutlined' is defined but never used.","'ContainerOutlined' is defined but never used.","'http' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","'message' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'InfoCircleOutlined' is defined but never used.","no-useless-escape","Unnecessary escape character: \\_.","Literal","unnecessaryEscape",["112","113"],"Unnecessary escape character: \\..",["114","115"],["116","117"],["118","119"],"no-unreachable","Unreachable code.","IfStatement","unreachableCode","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation",{"messageId":"120","fix":"121","desc":"122"},{"messageId":"123","fix":"124","desc":"125"},{"messageId":"120","fix":"126","desc":"122"},{"messageId":"123","fix":"127","desc":"125"},{"messageId":"120","fix":"128","desc":"122"},{"messageId":"123","fix":"129","desc":"125"},{"messageId":"120","fix":"130","desc":"122"},{"messageId":"123","fix":"131","desc":"125"},"removeEscape",{"range":"132","text":"133"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"134","text":"135"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"136","text":"133"},{"range":"137","text":"135"},{"range":"138","text":"133"},{"range":"139","text":"135"},{"range":"140","text":"133"},{"range":"141","text":"135"},[397,398],"",[397,397],"\\",[400,401],[400,400],[435,436],[435,435],[438,439],[438,438]]